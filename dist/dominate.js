'use strict';function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}window.DOMinate=function(){var a=function(){function a(b){_classCallCheck(this,a),this.src=b,this.pos=0}return _createClass(a,[{key:"skipWhitespace",value:function skipWhitespace(){if(!(this.pos>=this.src.length))for(;/\s/.test(this.src[this.pos]);)this.pos+=1}},{key:"readAll",value:function readAll(){for(var a=[],b=null;(b=this.next())&&!0!==b;){if(!1===b)return console.log("Unable to complete parsing."),[];a.push(b)}return a}},{key:"validate",value:function validate(a){var b=function(c){return a.filter(function(a){return a.T===c}).length},c=b("NAME"),d=b("ID"),e=b("CONTENT"),f=function(a){return 1>=b(a)},g=function(a){return console.error(a),!1},h=!0;return h&=f("NAME")||g("Too many element names (max: 1)"),h&=f("ID")||g("Too many IDs (max: 1)"),h&=f("CONTENT")||g("Too many content blocks (max: 1)"),h}},{key:"parse",value:function parse(){var a=this.readAll();return this.validate(a)?a:void 0}},{key:"next",value:function next(){if(this.skipWhitespace(),this.pos>=this.src.length)return!0;if(0===this.pos&&/[a-z_]+/i.test(this.src))return this.readName();switch(this.src[this.pos]){case".":return this.readClass();case"#":return this.readId();case"[":return this.readAttr();case":":return this.readContent();}return console.error("Invalid character: \"".concat(this.src[this.pos],"\"")),console.error("== Input was: ".concat(this.src)),!1}},{key:"readName",value:function readName(){var a=/([a-z_]+[a-z0-9_]*)/i.exec(this.src.slice(this.pos))[1];return this.pos+=a.length,{T:"NAME",val:a}}},{key:"readClass",value:function readClass(){var a=/\.(-?[_a-z]+[_a-z0-9-]*)/i.exec(this.src.slice(this.pos))[1];return this.pos+=1+a.length,{T:"CLASS",val:a}}},{key:"readId",value:function readId(){var a=/#([a-z][_a-z0-9-]*)/i.exec(this.src.slice(this.pos))[1];return this.pos+=1+a.length,{T:"ID",val:a}}},{key:"readAttr",value:function readAttr(){var a=/\[([^\t\n\f \/>"'=.#\[\]]+)(?:=((?:"[^"]*")|(?:.*?)))?\]/i.exec(this.src.slice(this.pos)),b=_slicedToArray(a,3),c=b[0],d=b[1],e=b[2];return this.pos+=(e?3:2)+d.length+(e||"").length,{T:"ATTR",val:{key:d,value:e}}}},{key:"readContent",value:function readContent(){var a=/:(.*)/.exec(this.src.slice(this.pos))[1];return this.pos+=1+a.length,{T:"CONTENT",val:a.trim()}}}]),a}(),b=function(){function b(){_classCallCheck(this,b)}return _createClass(b,null,[{key:"_createElement",value:function _createElement(b){var c;if(b instanceof HTMLElement)return b;var d=new a(b),e=d.parse(),f=document.createElement((e.filter(function(a){return"NAME"===a.T})[0]||{val:"div"}).val);return(c=f.classList).add.apply(c,_toConsumableArray(e.filter(function(a){return"CLASS"===a.T}).map(function(a){return a.val}))),f.id=(e.filter(function(a){return"ID"===a.T})[0]||{val:f.id}).val,e.filter(function(a){return"ATTR"===a.T}).map(function(a){return a.val}).forEach(function(a){var b=a.key,c=a.value;return f.setAttribute(b,c||"")}),f.innerHTML=(e.filter(function(a){return"CONTENT"===a.T})[0]||{val:""}).val,f}},{key:"one",value:function one(a){return a instanceof HTMLElement?a:b._createElement(a)}},{key:"many",value:function many(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return c.map(function(a){return a instanceof HTMLElement?a:b._createElement(a)})}},{key:"append",value:function append(a){a="string"==typeof a?document.querySelector(a):a;for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];b.many.apply(b,d).map(function(b){return a.appendChild(b)})}}]),b}();return b}();